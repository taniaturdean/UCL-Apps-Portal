{"ast":null,"code":"var _jsxFileName = \"/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/src/components/LoginButton.js\";\nimport { Button, svgIcon } from \"@mui/material\";\nimport { Login } from \"@mui/icons-material\";\nimport axios from \"axios\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\n\n// login button triggers auth process when clicked\nconst LoginButton = props => {\n  const handleAuth = () => {\n    const state = v4();\n    const stateInitiated = moment();\n    axios.get(`http://localhost:5500/oauth/auth-url?state=${state}&stateInitiated=${stateInitiated}`).then(response => {\n      console.log(response);\n      const auth_url = response.data;\n      window.location.href = auth_url;\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  if (props.buttonType === \"NavBar\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        id: \"button-login\",\n        onClick: handleAuth,\n        color: \"info\",\n        startIcon: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 22\n        }, this),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  } else {\n    const svgIcon = /*#__PURE__*/_jsxDEV(\"svgIcon\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"circle_button\",\n        src: \"../icon_button.svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Button, {\n      className: \"browse-available-technologies-home\",\n      variant: \"text\",\n      color: \"info\",\n      endIcon: svgIcon,\n      onClick: handleAuth,\n      children: \"Click here to login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n};\n_c = LoginButton;\nexport default LoginButton;\nvar _c;\n$RefreshReg$(_c, \"LoginButton\");","map":{"version":3,"names":["Button","svgIcon","Login","axios","v4","moment","jsxDEV","_jsxDEV","defaults","withCredentials","LoginButton","props","handleAuth","state","stateInitiated","get","then","response","console","log","auth_url","data","window","location","href","catch","err","buttonType","children","id","onClick","color","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","alt","src","className","variant","endIcon","_c","$RefreshReg$"],"sources":["/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/src/components/LoginButton.js"],"sourcesContent":["import { Button, svgIcon } from \"@mui/material\";\nimport { Login } from \"@mui/icons-material\";\nimport axios from \"axios\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\n\naxios.defaults.withCredentials = true;\n\n// login button triggers auth process when clicked\nconst LoginButton = (props) => {\n  const handleAuth = () => {\n    const state = v4();\n    const stateInitiated = moment();\n\n    axios\n      .get(\n        `http://localhost:5500/oauth/auth-url?state=${state}&stateInitiated=${stateInitiated}`\n      )\n      .then((response) => {\n        console.log(response);\n\n        const auth_url = response.data;\n        window.location.href = auth_url;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  if (props.buttonType === \"NavBar\") {\n    return (\n      <div>\n        <Button\n          id=\"button-login\"\n          onClick={handleAuth}\n          color=\"info\"\n          startIcon={<Login />}\n        >\n          {\"Login\"}\n        </Button>\n      </div>\n    );\n  } else {\n    const svgIcon = (\n      <svgIcon>\n        <img alt=\"circle_button\" src=\"../icon_button.svg\" />\n      </svgIcon>\n    )\n\n    return (\n      <Button\n          className=\"browse-available-technologies-home\"\n          variant=\"text\"\n          color=\"info\"\n          endIcon = {svgIcon}\n          onClick = {handleAuth}\n        >\n          Click here to login\n        </Button>\n    )\n  }\n\n  \n};\n\nexport default LoginButton;\n"],"mappings":";AAAA,SAASA,MAAM,EAAEC,OAAO,QAAQ,eAAe;AAC/C,SAASC,KAAK,QAAQ,qBAAqB;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,EAAE,QAAQ,MAAM;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5BJ,KAAK,CAACK,QAAQ,CAACC,eAAe,GAAG,IAAI;;AAErC;AACA,MAAMC,WAAW,GAAIC,KAAK,IAAK;EAC7B,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,KAAK,GAAGT,EAAE,EAAE;IAClB,MAAMU,cAAc,GAAGT,MAAM,EAAE;IAE/BF,KAAK,CACFY,GAAG,CACD,8CAA6CF,KAAM,mBAAkBC,cAAe,EAAC,CACvF,CACAE,IAAI,CAAEC,QAAQ,IAAK;MAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MAErB,MAAMG,QAAQ,GAAGH,QAAQ,CAACI,IAAI;MAC9BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGJ,QAAQ;IACjC,CAAC,CAAC,CACDK,KAAK,CAAEC,GAAG,IAAK;MACdR,OAAO,CAACC,GAAG,CAACO,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC;EAED,IAAIf,KAAK,CAACgB,UAAU,KAAK,QAAQ,EAAE;IACjC,oBACEpB,OAAA;MAAAqB,QAAA,eACErB,OAAA,CAACP,MAAM;QACL6B,EAAE,EAAC,cAAc;QACjBC,OAAO,EAAElB,UAAW;QACpBmB,KAAK,EAAC,MAAM;QACZC,SAAS,eAAEzB,OAAA,CAACL,KAAK;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAI;QAAAR,QAAA,EAEpB;MAAO;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACL;EAEV,CAAC,MAAM;IACL,MAAMnC,OAAO,gBACXM,OAAA;MAAAqB,QAAA,eACErB,OAAA;QAAK8B,GAAG,EAAC,eAAe;QAACC,GAAG,EAAC;MAAoB;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAG;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAEvD;IAED,oBACE7B,OAAA,CAACP,MAAM;MACHuC,SAAS,EAAC,oCAAoC;MAC9CC,OAAO,EAAC,MAAM;MACdT,KAAK,EAAC,MAAM;MACZU,OAAO,EAAIxC,OAAQ;MACnB6B,OAAO,EAAIlB,UAAW;MAAAgB,QAAA,EACvB;IAED;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS;EAEf;AAGF,CAAC;AAACM,EAAA,GAtDIhC,WAAW;AAwDjB,eAAeA,WAAW;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
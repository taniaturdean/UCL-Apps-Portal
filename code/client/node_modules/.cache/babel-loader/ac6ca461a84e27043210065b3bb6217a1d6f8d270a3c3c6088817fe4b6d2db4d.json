{"ast":null,"code":"import _slicedToArray from\"/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Select,MenuItem,InputLabel,FormControl}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import axios from\"../axios.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FilterBy=function FilterBy(props){var navigate=useNavigate();// arrays from DB\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),sectors=_useState2[0],setSectors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productTypes=_useState4[0],setProductTypes=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),opportunityTypes=_useState6[0],setOpportunityTypes=_useState6[1];// selected form options\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectedSector=_useState8[0],setSelectedSector=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedProduct=_useState10[0],setSelectedProduct=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),selectedOppType=_useState12[0],setSelectedOppType=_useState12[1];// event handlers\nvar handleSectorChange=function handleSectorChange(event){setSelectedSector(event.target.value);};var handleProductChange=function handleProductChange(event){setSelectedProduct(event.target.value);};var handleOppTypeChange=function handleOppTypeChange(event){setSelectedOppType(event.target.value);};useEffect(function(){//get sectors for dropdown\naxios.get(\"/form-options/sectors\").then(function(response){if(response.data.auth===false){// if jwt has expired\nnavigate(\"/expired\");}setSectors(response.data);console.log(sectors);}).catch(function(error){console.log(error);});// get second drop-down depending on page\nvar endpoint={\"project-connect\":\"opportunity-types\",\"past-projects\":\"product-types\",\"available-tech\":\"product-types\"};axios.get(\"/form-options/\".concat(endpoint[props.page])).then(function(response){if(response.data.auth===false){// if jwt has expired\nnavigate(\"/expired\");}else if(props.page===\"project-connect\"){setOpportunityTypes(response.data);}else{setProductTypes(response.data);}}).catch(function(error){console.log(error);});},[navigate]);// ternary operator returning different menu items depending on the page prop\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(FormControl,{sx:{borderRadius:\"15px\",\"& .MuiOutlinedInput-root\":{borderRadius:\"20px\",\"& fieldset\":{borderColor:\"transparent\"},\"&:hover fieldset\":{borderColor:\"transparent\"},\"&.Mui-focused fieldset\":{borderColor:\"transparent\"}},backgroundColor:\"white\"},required:\"required\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"sector-label\",children:\"Select Sector\"}),/*#__PURE__*/_jsx(Select,{labelId:\"sector-label\",id:\"sector-dropdown\",defaultValue:\"\",style:{width:330},value:selectedSector,onChange:handleSectorChange,children:sectors.map(function(sectorObj,index){return/*#__PURE__*/_jsx(MenuItem,{value:sectorObj.sector,children:sectorObj.sector},index);})})]}),props.page===\"project-connect\"?/*#__PURE__*/_jsxs(FormControl,{sx:{left:40,borderRadius:\"15px\",\"& .MuiOutlinedInput-root\":{borderRadius:\"20px\",\"& fieldset\":{borderColor:\"transparent\"},\"&:hover fieldset\":{borderColor:\"transparent\"},\"&.Mui-focused fieldset\":{borderColor:\"transparent\"}},backgroundColor:\"white\"},required:\"required\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"opp-type-label\",children:\"Select Opportunity Type\"}),/*#__PURE__*/_jsx(Select,{labelId:\"opp-type-label\",id:\"opp-type-select\",defaultValue:\"\",style:{width:330},value:selectedOppType,onChange:handleOppTypeChange,children:opportunityTypes.map(function(opportunityTypeObj,index){return/*#__PURE__*/_jsx(MenuItem,{value:opportunityTypeObj.opportunityType,children:opportunityTypeObj.opportunityType},index);})})]}):/*#__PURE__*/_jsxs(FormControl,{sx:{left:40,borderRadius:\"15px\",\"& .MuiOutlinedInput-root\":{borderRadius:\"20px\",\"& fieldset\":{borderColor:\"transparent\"},\"&:hover fieldset\":{borderColor:\"transparent\"},\"&.Mui-focused fieldset\":{borderColor:\"transparent\"}},backgroundColor:\"white\"},required:\"required\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"product-label\",children:\"Select Product Type\"}),/*#__PURE__*/_jsx(Select,{labelId:\"product-label\",id:\"product-select\",defaultValue:\"\",style:{width:330},value:selectedProduct,onChange:handleProductChange,children:productTypes.map(function(productTypeObj,index){return/*#__PURE__*/_jsx(MenuItem,{value:productTypeObj.productType,children:productTypeObj.productType},index);})})]})]});};export default FilterBy;","map":{"version":3,"names":["React","useState","useEffect","Select","MenuItem","InputLabel","FormControl","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","FilterBy","props","navigate","_useState","_useState2","_slicedToArray","sectors","setSectors","_useState3","_useState4","productTypes","setProductTypes","_useState5","_useState6","opportunityTypes","setOpportunityTypes","_useState7","_useState8","selectedSector","setSelectedSector","_useState9","_useState10","selectedProduct","setSelectedProduct","_useState11","_useState12","selectedOppType","setSelectedOppType","handleSectorChange","event","target","value","handleProductChange","handleOppTypeChange","get","then","response","data","auth","console","log","catch","error","endpoint","concat","page","children","sx","borderRadius","borderColor","backgroundColor","required","id","labelId","defaultValue","style","width","onChange","map","sectorObj","index","sector","left","opportunityTypeObj","opportunityType","productTypeObj","productType"],"sources":["/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/src/components/FilterBy.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Select, MenuItem, InputLabel, FormControl } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"../axios.js\";\n\nconst FilterBy = (props) => {\n  const navigate = useNavigate();\n\n  // arrays from DB\n  const [sectors, setSectors] = useState([]);\n  const [productTypes, setProductTypes] = useState([]);\n  const [opportunityTypes, setOpportunityTypes] = useState([]);\n\n  // selected form options\n  const [selectedSector, setSelectedSector] = useState(\"\");\n  const [selectedProduct, setSelectedProduct] = useState(\"\");\n  const [selectedOppType, setSelectedOppType] = useState(\"\");\n\n  // event handlers\n  const handleSectorChange = (event) => {\n    setSelectedSector(event.target.value);\n  };\n  const handleProductChange = (event) => {\n    setSelectedProduct(event.target.value);\n  };\n  const handleOppTypeChange = (event) => {\n    setSelectedOppType(event.target.value);\n  };\n\n  useEffect( () => {\n    //get sectors for dropdown\n    axios\n      .get(`/form-options/sectors`)\n      .then((response) => {\n        if (response.data.auth === false) {\n          // if jwt has expired\n          navigate(\"/expired\");\n        }\n        setSectors(response.data);\n        console.log(sectors);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    \n    // get second drop-down depending on page\n    const endpoint = {\n        \"project-connect\": \"opportunity-types\",\n        \"past-projects\": \"product-types\",\n        \"available-tech\": \"product-types\"\n    }\n\n    axios\n        .get(`/form-options/${endpoint[props.page]}`)\n        .then((response) => {\n          if (response.data.auth === false) {\n            // if jwt has expired\n            navigate(\"/expired\");\n          }\n          else if (props.page === \"project-connect\") {\n            setOpportunityTypes(response.data)\n          } else {\n            setProductTypes(response.data)\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n\n  }, [navigate]);\n\n  // ternary operator returning different menu items depending on the page prop\n  return (\n    <div>\n      <FormControl\n        sx={{\n          borderRadius: \"15px\",\n          \"& .MuiOutlinedInput-root\": {\n            borderRadius: \"20px\",\n            \"& fieldset\": {\n              borderColor: \"transparent\",\n            },\n            \"&:hover fieldset\": {\n              borderColor: \"transparent\",\n            },\n            \"&.Mui-focused fieldset\": {\n              borderColor: \"transparent\",\n            },\n          },\n          backgroundColor: \"white\",\n        }}\n        required=\"required\"\n      >\n        <InputLabel id=\"sector-label\">Select Sector</InputLabel>\n        <Select\n          labelId=\"sector-label\"\n          id=\"sector-dropdown\"\n          defaultValue=\"\"\n          style={{ width: 330 }}\n          value={selectedSector}\n          onChange={handleSectorChange}\n        >\n          {sectors.map((sectorObj, index) => (\n            <MenuItem key={index} value={sectorObj.sector}>\n              {sectorObj.sector}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {props.page === \"project-connect\" ? (\n        <FormControl\n          sx={{\n            left: 40,\n            borderRadius: \"15px\",\n            \"& .MuiOutlinedInput-root\": {\n              borderRadius: \"20px\",\n              \"& fieldset\": {\n                borderColor: \"transparent\",\n              },\n              \"&:hover fieldset\": {\n                borderColor: \"transparent\",\n              },\n              \"&.Mui-focused fieldset\": {\n                borderColor: \"transparent\",\n              },\n            },\n            backgroundColor: \"white\",\n          }}\n          required=\"required\"\n        >\n          <InputLabel id=\"opp-type-label\">Select Opportunity Type</InputLabel>\n          <Select\n            labelId=\"opp-type-label\"\n            id=\"opp-type-select\"\n            defaultValue=\"\"\n            style={{ width: 330 }}\n            value={selectedOppType}\n            onChange={handleOppTypeChange}\n          >\n            {opportunityTypes.map((opportunityTypeObj, index) => (\n              <MenuItem key={index} value={opportunityTypeObj.opportunityType}>\n                {opportunityTypeObj.opportunityType}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      ) : (\n        <FormControl\n          sx={{\n            left: 40,\n            borderRadius: \"15px\",\n            \"& .MuiOutlinedInput-root\": {\n              borderRadius: \"20px\",\n              \"& fieldset\": {\n                borderColor: \"transparent\",\n              },\n              \"&:hover fieldset\": {\n                borderColor: \"transparent\",\n              },\n              \"&.Mui-focused fieldset\": {\n                borderColor: \"transparent\",\n              },\n            },\n            backgroundColor: \"white\",\n          }}\n          required=\"required\"\n        >\n          <InputLabel id=\"product-label\">Select Product Type</InputLabel>\n          <Select\n            labelId=\"product-label\"\n            id=\"product-select\"\n            defaultValue=\"\"\n            style={{ width: 330 }}\n            value={selectedProduct}\n            onChange={handleProductChange}\n          >\n            {productTypes.map((productTypeObj, index) => (\n              <MenuItem key={index} value={productTypeObj.productType}>\n                {productTypeObj.productType}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      )}\n    </div>\n  );\n};\n\nexport default FilterBy;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
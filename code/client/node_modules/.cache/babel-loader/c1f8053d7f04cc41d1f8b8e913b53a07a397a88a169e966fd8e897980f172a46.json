{"ast":null,"code":"import{Button,svgIcon}from\"@mui/material\";import{Login}from\"@mui/icons-material\";import axios from\"axios\";import{v4}from\"uuid\";import moment from\"moment\";import\"../pages/HomePage.css\";import{useMediaQuery}from\"react-responsive\";import{ArrowForwardIosOutlined}from\"@mui/icons-material\";import{jsx as _jsx}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;// login button triggers auth process when clicked\nvar LoginButton=function LoginButton(props){var isPhone=useMediaQuery({minWidth:0,maxWidth:450});var isLaptop=useMediaQuery({minWidth:451,maxWidth:1823});var isLargeMonitor=useMediaQuery({minWidth:1824,maxWidth:2359});var isLandscapeTablet=useMediaQuery({minWidth:2360});var getClassName=function getClassName(baseClassName){if(isLargeMonitor)return\"\".concat(baseClassName,\"--large-monitor\");if(isLaptop)return\"\".concat(baseClassName,\"--laptop\");if(isLandscapeTablet)return\"\".concat(baseClassName,\"--landscape-tablet\");if(isPhone)return\"\".concat(baseClassName,\"--phone\");return baseClassName;};var handleAuth=function handleAuth(){var state=v4();var stateInitiated=moment();axios.get(\"/oauth/auth-url?state=\".concat(state,\"&stateInitiated=\").concat(stateInitiated)).then(function(response){console.log(response);var auth_url=response.data;window.location.href=auth_url;}).catch(function(err){console.log(err);});};if(props.buttonType===\"NavBar\"){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{id:\"button-login\",onClick:handleAuth,color:\"info\",startIcon:/*#__PURE__*/_jsx(Login,{}),children:\"Login\"})});}else{var _svgIcon=/*#__PURE__*/_jsx(\"svgIcon\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"circle_button\",src:\"../icon_button.svg\"})});return/*#__PURE__*/ (// <Button\n//     className=\"browse-available-technologies-home\"\n//     variant=\"text\"\n//     color=\"info\"\n//     endIcon = {svgIcon}\n//     onClick = {handleAuth}\n//   >\n//     Click here to login\n//   </Button>\n_jsx(Button,{className:getClassName(\"rectangle-button\"),sx:{width:267},variant:\"contained\",color:\"primary\",onClick:handleAuth,children:\"Login\"}));}};export default LoginButton;","map":{"version":3,"names":["Button","svgIcon","Login","axios","v4","moment","useMediaQuery","ArrowForwardIosOutlined","jsx","_jsx","defaults","withCredentials","LoginButton","props","isPhone","minWidth","maxWidth","isLaptop","isLargeMonitor","isLandscapeTablet","getClassName","baseClassName","concat","handleAuth","state","stateInitiated","get","then","response","console","log","auth_url","data","window","location","href","catch","err","buttonType","children","id","onClick","color","startIcon","alt","src","className","sx","width","variant"],"sources":["/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/src/components/LoginButton.js"],"sourcesContent":["import { Button, svgIcon } from \"@mui/material\";\nimport { Login } from \"@mui/icons-material\";\nimport axios from \"axios\";\nimport { v4 } from \"uuid\";\nimport moment from \"moment\";\nimport \"../pages/HomePage.css\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { ArrowForwardIosOutlined } from \"@mui/icons-material\";\n\naxios.defaults.withCredentials = true;\n\n// login button triggers auth process when clicked\nconst LoginButton = (props) => {\n\n  const isPhone = useMediaQuery({ minWidth: 0, maxWidth: 450 });\n  const isLaptop = useMediaQuery({ minWidth: 451, maxWidth: 1823 });\n  const isLargeMonitor = useMediaQuery({ minWidth: 1824, maxWidth: 2359 });\n  const isLandscapeTablet = useMediaQuery({ minWidth: 2360 });\n\n  const getClassName = (baseClassName) => {\n    if (isLargeMonitor) return `${baseClassName}--large-monitor`;\n    if (isLaptop) return `${baseClassName}--laptop`;\n    if (isLandscapeTablet) return `${baseClassName}--landscape-tablet`;\n    if (isPhone) return `${baseClassName}--phone`;\n    return baseClassName;\n  };\n\n  const handleAuth = () => {\n    const state = v4();\n    const stateInitiated = moment();\n\n    axios\n      .get(\n        `/oauth/auth-url?state=${state}&stateInitiated=${stateInitiated}`\n      )\n      .then((response) => {\n        console.log(response);\n\n        const auth_url = response.data;\n        window.location.href = auth_url;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  if (props.buttonType === \"NavBar\") {\n    return (\n      <div>\n        <Button\n          id=\"button-login\"\n          onClick={handleAuth}\n          color=\"info\"\n          startIcon={<Login />}\n        >\n          {\"Login\"}\n        </Button>\n      </div>\n    );\n  } else {\n    const svgIcon = (\n      <svgIcon>\n        <img alt=\"circle_button\" src=\"../icon_button.svg\" />\n      </svgIcon>\n    );\n\n    return (\n      // <Button\n      //     className=\"browse-available-technologies-home\"\n      //     variant=\"text\"\n      //     color=\"info\"\n      //     endIcon = {svgIcon}\n      //     onClick = {handleAuth}\n      //   >\n      //     Click here to login\n      //   </Button>\n      <Button\n\n        className={getClassName(\"rectangle-button\")}\n        sx={{ width: 267 }}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleAuth}\n      >\n        Login\n      </Button>\n    );\n\n  }\n};\n\nexport default LoginButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
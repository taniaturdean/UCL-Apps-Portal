{"ast":null,"code":"import _slicedToArray from\"/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Header from\"../components/Header\";import Footer from\"../components/Footer\";import\"./HomePage.css\";import ApprovalSwitch from\"../components/ApprovalSwitch\";import DeleteListingButton from\"../components/DeleteListingButton\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Box}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;var AdminDashboard=function AdminDashboard(){var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),opportunities=_useState2[0],setOpportunities=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),pastProjects=_useState4[0],setPastProjects=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),availableTech=_useState6[0],setAvailableTech=_useState6[1];useEffect(function(){// get all opportunities\naxios.get(\"http://localhost:5500/admin/opportunities\").then(function(response){console.log(response);if(response.data.auth===false){// if jwt has expired\nnavigate(\"/expired\");}else{setOpportunities(response.data);}}).catch(function(err){console.log(err);navigate(\"/Error\");});// get all past projects\naxios.get(\"http://localhost:5500/admin/past-projects\").then(function(response){console.log(response);if(response.data.auth===false){// if jwt has expired\nnavigate(\"/expired\");}else{setPastProjects(response.data);}}).catch(function(err){console.log(err);navigate(\"/Error\");});// get all available tech\naxios.get(\"http://localhost:5500/admin/available-tech\").then(function(response){console.log(response);if(response.data.auth===false){// if jwt has expired\nnavigate(\"/expired\");}else{setAvailableTech(response.data);}}).catch(function(err){console.log(err);navigate(\"/Error\");});},[navigate]);return/*#__PURE__*/_jsxs(\"main\",{className:\"home-page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Available Technologies\"}),availableTech?availableTech.map(function(listing,index){return/*#__PURE__*/_jsxs(Box,{className:\"listing-container\",sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",width:\"55%\",minHeight:\"fit-content\",margin:7,paddingBottom:5},bgcolor:\"#00808010\",borderRadius:\"25px\",children:[/*#__PURE__*/_jsx(\"h2\",{children:listing.listingTitle}),/*#__PURE__*/_jsx(ApprovalSwitch,{listingID:listing.listingID,approved:listing.approved}),/*#__PURE__*/_jsx(DeleteListingButton,{listingID:listing.listingID})]},listing.listingID);}):null]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Past Projects\"}),pastProjects?pastProjects.map(function(listing,index){return/*#__PURE__*/_jsxs(Box,{className:\"listing-container\",sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",width:\"55%\",minHeight:\"fit-content\",margin:7,paddingBottom:5},bgcolor:\"#00808010\",borderRadius:\"25px\",children:[/*#__PURE__*/_jsx(\"h2\",{children:listing.listingTitle}),/*#__PURE__*/_jsx(ApprovalSwitch,{listingID:listing.listingID,approved:listing.approved}),/*#__PURE__*/_jsx(DeleteListingButton,{listingID:listing.listingID})]},listing.listingID);}):null]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Opportunities\"}),opportunities?opportunities.map(function(listing,index){return/*#__PURE__*/_jsxs(Box,{className:\"listing-container\",sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",width:\"55%\",minHeight:\"fit-content\",margin:7,paddingBottom:5},bgcolor:\"#00808010\",borderRadius:\"25px\",children:[/*#__PURE__*/_jsx(\"h2\",{children:listing.listingTitle}),/*#__PURE__*/_jsx(ApprovalSwitch,{listingID:listing.listingID,approved:listing.approved}),/*#__PURE__*/_jsx(DeleteListingButton,{listingID:listing.listingID})]},listing.listingID);}):null]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["Header","Footer","ApprovalSwitch","DeleteListingButton","axios","useEffect","useState","useNavigate","Box","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","AdminDashboard","navigate","_useState","_useState2","_slicedToArray","opportunities","setOpportunities","_useState3","_useState4","pastProjects","setPastProjects","_useState5","_useState6","availableTech","setAvailableTech","get","then","response","console","log","data","auth","catch","err","className","children","map","listing","index","sx","display","flexDirection","alignItems","width","minHeight","margin","paddingBottom","bgcolor","borderRadius","listingTitle","listingID","approved"],"sources":["/Users/isobelbarkley/Documents/appeng/COMP0067_2023_Team09/ucl-apps-portal/client/src/pages/AdminDashboard.js"],"sourcesContent":["import Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport \"./HomePage.css\";\nimport ApprovalSwitch from \"../components/ApprovalSwitch\";\nimport DeleteListingButton from \"../components/DeleteListingButton\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Box } from \"@mui/material\";\n\naxios.defaults.withCredentials = true;\n\nconst AdminDashboard = () => {\n  const navigate = useNavigate();\n  const [opportunities, setOpportunities] = useState(null);\n  const [pastProjects, setPastProjects] = useState(null);\n  const [availableTech, setAvailableTech] = useState(null);\n\n  useEffect(() => {\n    // get all opportunities\n    axios\n      .get(\"http://localhost:5500/admin/opportunities\")\n      .then((response) => {\n        console.log(response);\n        if (response.data.auth === false) {\n          // if jwt has expired\n          navigate(\"/expired\");\n        } else {\n          setOpportunities(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        navigate(\"/Error\");\n      });\n\n    // get all past projects\n    axios\n      .get(\"http://localhost:5500/admin/past-projects\")\n      .then((response) => {\n        console.log(response);\n        if (response.data.auth === false) {\n          // if jwt has expired\n          navigate(\"/expired\");\n        } else {\n          setPastProjects(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        navigate(\"/Error\");\n      });\n\n    // get all available tech\n    axios\n      .get(\"http://localhost:5500/admin/available-tech\")\n      .then((response) => {\n        console.log(response);\n        if (response.data.auth === false) {\n          // if jwt has expired\n          navigate(\"/expired\");\n        } else {\n          setAvailableTech(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        navigate(\"/Error\");\n      });\n  }, [navigate]);\n\n\n  return (\n    <main className=\"home-page\">\n      <Header />\n\n      <section>\n      <section>\n          <h1>Available Technologies</h1>\n          {availableTech ? (availableTech.map((listing, index) => (\n            <Box\n              key={listing.listingID}\n              className=\"listing-container\"\n              sx={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"stretch\",\n                width: \"55%\",\n                minHeight: \"fit-content\",\n                margin: 7,\n                paddingBottom: 5,\n              }}\n              bgcolor=\"#00808010\"\n              borderRadius=\"25px\"\n            >\n              <h2>{listing.listingTitle}</h2>\n              <ApprovalSwitch listingID={listing.listingID} approved={listing.approved}/>\n              <DeleteListingButton listingID={listing.listingID}/>\n            </Box>\n          ))) : (null)}\n          \n        </section>\n\n        <section>\n          <h1>Past Projects</h1>\n          {pastProjects ? (pastProjects.map((listing, index) => (\n            <Box\n              key={listing.listingID}\n              className=\"listing-container\"\n              sx={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"stretch\",\n                width: \"55%\",\n                minHeight: \"fit-content\",\n                margin: 7,\n                paddingBottom: 5,\n              }}\n              bgcolor=\"#00808010\"\n              borderRadius=\"25px\"\n            >\n              <h2>{listing.listingTitle}</h2>\n              <ApprovalSwitch listingID={listing.listingID} approved={listing.approved}/>\n              <DeleteListingButton listingID={listing.listingID}/>\n            </Box>\n          ))) : (null)}\n        </section>\n\n        <section>\n          <h1>Opportunities</h1>\n          {opportunities ? (opportunities.map((listing, index) => (\n            <Box\n              key={listing.listingID}\n              className=\"listing-container\"\n              sx={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"stretch\",\n                width: \"55%\",\n                minHeight: \"fit-content\",\n                margin: 7,\n                paddingBottom: 5,\n              }}\n              bgcolor=\"#00808010\"\n              borderRadius=\"25px\"\n            >\n              <h2>{listing.listingTitle}</h2>\n              <ApprovalSwitch listingID={listing.listingID} approved={listing.approved}/>\n              <DeleteListingButton listingID={listing.listingID}/>\n            </Box>\n          ))) : (null)}\n        </section>\n      </section>\n\n      {/* <Footer /> */}\n    </main>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"uKAAA,MAAO,CAAAA,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,gBAAgB,CACvB,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,mBAAmB,KAAM,mCAAmC,CACnE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,GAAG,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpCR,KAAK,CAACS,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAM,CAAAC,QAAQ,CAAGT,WAAW,EAAE,CAC9B,IAAAU,SAAA,CAA0CX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,IAAAI,UAAA,CAAwChB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAA0CpB,QAAQ,CAAC,IAAI,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAEtCtB,SAAS,CAAC,UAAM,CACd;AACAD,KAAK,CACF0B,GAAG,CAAC,2CAA2C,CAAC,CAChDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACG,IAAI,CAACC,IAAI,GAAK,KAAK,CAAE,CAChC;AACApB,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,CACLK,gBAAgB,CAACW,QAAQ,CAACG,IAAI,CAAC,CACjC,CACF,CAAC,CAAC,CACDE,KAAK,CAAC,SAACC,GAAG,CAAK,CACdL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAChBtB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CAEJ;AACAZ,KAAK,CACF0B,GAAG,CAAC,2CAA2C,CAAC,CAChDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACG,IAAI,CAACC,IAAI,GAAK,KAAK,CAAE,CAChC;AACApB,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,CACLS,eAAe,CAACO,QAAQ,CAACG,IAAI,CAAC,CAChC,CACF,CAAC,CAAC,CACDE,KAAK,CAAC,SAACC,GAAG,CAAK,CACdL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAChBtB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CAEJ;AACAZ,KAAK,CACF0B,GAAG,CAAC,4CAA4C,CAAC,CACjDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACG,IAAI,CAACC,IAAI,GAAK,KAAK,CAAE,CAChC;AACApB,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,CACLa,gBAAgB,CAACG,QAAQ,CAACG,IAAI,CAAC,CACjC,CACF,CAAC,CAAC,CACDE,KAAK,CAAC,SAACC,GAAG,CAAK,CACdL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,CAChBtB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAGd,mBACEJ,KAAA,SAAM2B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzB9B,IAAA,CAACV,MAAM,IAAG,cAEVY,KAAA,YAAA4B,QAAA,eACA5B,KAAA,YAAA4B,QAAA,eACI9B,IAAA,OAAA8B,QAAA,CAAI,wBAAsB,EAAK,CAC9BZ,aAAa,CAAIA,aAAa,CAACa,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBACjD/B,KAAA,CAACJ,GAAG,EAEF+B,SAAS,CAAC,mBAAmB,CAC7BK,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,aAAa,CACxBC,MAAM,CAAE,CAAC,CACTC,aAAa,CAAE,CACjB,CAAE,CACFC,OAAO,CAAC,WAAW,CACnBC,YAAY,CAAC,MAAM,CAAAb,QAAA,eAEnB9B,IAAA,OAAA8B,QAAA,CAAKE,OAAO,CAACY,YAAY,EAAM,cAC/B5C,IAAA,CAACR,cAAc,EAACqD,SAAS,CAAEb,OAAO,CAACa,SAAU,CAACC,QAAQ,CAAEd,OAAO,CAACc,QAAS,EAAE,cAC3E9C,IAAA,CAACP,mBAAmB,EAACoD,SAAS,CAAEb,OAAO,CAACa,SAAU,EAAE,GAhB/Cb,OAAO,CAACa,SAAS,CAiBlB,EACP,CAAC,CAAK,IAAK,GAEJ,cAEV3C,KAAA,YAAA4B,QAAA,eACE9B,IAAA,OAAA8B,QAAA,CAAI,eAAa,EAAK,CACrBhB,YAAY,CAAIA,YAAY,CAACiB,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBAC/C/B,KAAA,CAACJ,GAAG,EAEF+B,SAAS,CAAC,mBAAmB,CAC7BK,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,aAAa,CACxBC,MAAM,CAAE,CAAC,CACTC,aAAa,CAAE,CACjB,CAAE,CACFC,OAAO,CAAC,WAAW,CACnBC,YAAY,CAAC,MAAM,CAAAb,QAAA,eAEnB9B,IAAA,OAAA8B,QAAA,CAAKE,OAAO,CAACY,YAAY,EAAM,cAC/B5C,IAAA,CAACR,cAAc,EAACqD,SAAS,CAAEb,OAAO,CAACa,SAAU,CAACC,QAAQ,CAAEd,OAAO,CAACc,QAAS,EAAE,cAC3E9C,IAAA,CAACP,mBAAmB,EAACoD,SAAS,CAAEb,OAAO,CAACa,SAAU,EAAE,GAhB/Cb,OAAO,CAACa,SAAS,CAiBlB,EACP,CAAC,CAAK,IAAK,GACJ,cAEV3C,KAAA,YAAA4B,QAAA,eACE9B,IAAA,OAAA8B,QAAA,CAAI,eAAa,EAAK,CACrBpB,aAAa,CAAIA,aAAa,CAACqB,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBACjD/B,KAAA,CAACJ,GAAG,EAEF+B,SAAS,CAAC,mBAAmB,CAC7BK,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,KAAK,CACZC,SAAS,CAAE,aAAa,CACxBC,MAAM,CAAE,CAAC,CACTC,aAAa,CAAE,CACjB,CAAE,CACFC,OAAO,CAAC,WAAW,CACnBC,YAAY,CAAC,MAAM,CAAAb,QAAA,eAEnB9B,IAAA,OAAA8B,QAAA,CAAKE,OAAO,CAACY,YAAY,EAAM,cAC/B5C,IAAA,CAACR,cAAc,EAACqD,SAAS,CAAEb,OAAO,CAACa,SAAU,CAACC,QAAQ,CAAEd,OAAO,CAACc,QAAS,EAAE,cAC3E9C,IAAA,CAACP,mBAAmB,EAACoD,SAAS,CAAEb,OAAO,CAACa,SAAU,EAAE,GAhB/Cb,OAAO,CAACa,SAAS,CAiBlB,EACP,CAAC,CAAK,IAAK,GACJ,GACF,GAGL,CAEX,CAAC,CAED,cAAe,CAAAxC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}